specVersion: 0.0.2
description: Aragon Court subgraph
repository: https://github.com/aragon/court-subgraph/
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum/contract
    name: AragonCourt
    network: mainnet
    source:
      address: '0xC89Ce4735882C9F0f0FE26686c53074E09B0D550'
      abi: AragonCourt
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - CourtConfig
        - CourtModule
      abis:
        - name: AragonCourt
          file: ./node_modules/@aragon/court/abi/AragonCourt.json
      eventHandlers:
        - event: Heartbeat(uint64,uint64)
          handler: handleHeartbeat
        - event: FundsGovernorChanged(address,address)
          handler: handleFundsGovernorChanged
        - event: ConfigGovernorChanged(address,address)
          handler: handleConfigGovernorChanged
        - event: ModulesGovernorChanged(address,address)
          handler: handleModulesGovernorChanged
        - event: ModuleSet(bytes32,address)
          handler: handleModuleSet
      file: ./src/AragonCourt.ts
  - kind: ethereum/contract
    name: DisputeManager
    network: mainnet
    source:
      address: '0xD833215cBcc3f914bD1C9ece3EE7BF8B14f841bb'
      abi: DisputeManager
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - Arbitrable
        - Dispute
        - AdjudicationRound
        - Juror
        - JurorDraft
        - ANJMovement
        - Appeal
      abis:
        - name: Arbitrable
          file: ./node_modules/@aragon/court/abi/IArbitrable.json
        - name: Controller
          file: ./node_modules/@aragon/court/abi/Controller.json
        - name: DisputeManager
          file: ./node_modules/@aragon/court/abi/DisputeManager.json
      eventHandlers:
        - event: NewDispute(indexed uint256,indexed address,indexed uint64,uint64,bytes)
          handler: handleNewDispute
        - event: JurorDrafted(indexed uint256,indexed uint256,indexed address)
          handler: handleJurorDrafted
        - event: DisputeStateChanged(indexed uint256,indexed uint8)
          handler: handleDisputeStateChanged
        - event: RulingAppealed(indexed uint256,indexed uint256,uint8)
          handler: handleRulingAppealed
        - event: RulingAppealConfirmed(indexed uint256,indexed uint256,indexed uint64,uint256)
          handler: handleRulingAppealConfirmed
        - event: PenaltiesSettled(indexed uint256,indexed uint256,uint256)
          handler: handlePenaltiesSettled
        - event: RewardSettled(indexed uint256,indexed uint256,address)
          handler: handleRewardSettled
        - event: AppealDepositSettled(indexed uint256,indexed uint256)
          handler: handleAppealDepositSettled
        - event: RulingComputed(indexed uint256,indexed uint8)
          handler: handleRulingComputed
      file: ./src/DisputeManager.ts
  - kind: ethereum/contract
    name: JurorsRegistry
    network: mainnet
    source:
      address: '0x9561C133DD8580860B6b7E504bC5Aa500f0f06a7'
      abi: JurorsRegistry
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - Juror
        - JurorDraft
        - ANJMovement
      abis:
        - name: Controller
          file: ./node_modules/@aragon/court/abi/Controller.json
        - name: JurorsRegistry
          file: ./node_modules/@aragon/court/abi/JurorsRegistry.json
      eventHandlers:
        - event: Staked(indexed address,uint256,uint256,bytes)
          handler: handleStaked
        - event: Unstaked(indexed address,uint256,uint256,bytes)
          handler: handleUnstaked
        - event: JurorActivated(indexed address,uint64,uint256)
          handler: handleJurorActivated
        - event: JurorBalanceLocked(indexed address,uint256)
          handler: handleJurorBalanceLocked
        - event: JurorBalanceUnlocked(indexed address,uint256)
          handler: handleJurorBalanceUnlocked
        - event: JurorDeactivationRequested(indexed address,uint64,uint256)
          handler: handleJurorDeactivationRequested
        - event: JurorDeactivationUpdated(indexed address,uint64,uint256,uint64)
          handler: handleJurorDeactivationUpdated
        - event: JurorDeactivationProcessed(indexed address,uint64,uint256,uint64)
          handler: handleJurorDeactivationProcessed
        - event: JurorRewarded(indexed address,uint256)
          handler: handleJurorRewarded
        - event: JurorSlashed(indexed address,uint256,uint64)
          handler: handleJurorSlashed
      file: ./src/JurorsRegistry.ts
  - kind: ethereum/contract
    name: ANJ
    network: mainnet
    source:
      address: '0x254dffcd3277C0b1660F6d42EFbB754edaBAbC2B'
      abi: ANJ
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.3
      language: wasm/assemblyscript
      entities:
        - ANJBalance
        - ANJTransfer
      abis:
        - name: ANJ
          file: ./node_modules/@aragon/minime/abi/MiniMeToken.json
      eventHandlers:
        - event: Transfer(indexed address,indexed address,uint256)
          handler: handleTransfer
      file: ./src/ANJ.ts
